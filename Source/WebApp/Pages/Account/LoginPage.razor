@page "/account/login"
@inherits PublicPage<LoginPage, LoginPageHandler>

<PageTitle>Log in</PageTitle>

<h1>Log in</h1>
<div class="row">
  <div class="col-lg-6">
  <section>
    <StatusMessageComponent />
    <EditForm id="login-form" Model="Input" method="post" OnValidSubmit="LoginUser" FormName="login">
      <DataAnnotationsValidator />
      <ValidationSummary class="text-danger" role="alert" />
      <div class="form-floating mb-3">
        <InputText id="email-input" @bind-Value="Input.Email" class="form-control" autocomplete="username" aria-required="true" placeholder="Enter your email" />
        <label for="email-input" class="form-label">Email</label>
        <ValidationMessage For="() => Input.Email" class="text-danger" />
      </div>
      <div class="form-floating mb-3">
        <InputText id="password-input" type="password" @bind-Value="Input.Password" class="form-control" autocomplete="current-password" aria-required="true" placeholder="Enter your password" />
        <label for="password-input" class="form-label">Password</label>
        <ValidationMessage For="() => Input.Password" class="text-danger" />
      </div>
      <div class="checkbox mb-3">
        <InputCheckbox id="remember-me-input" @bind-Value="Input.RememberMe" class="darker-border-checkbox form-check-input" />
        <label class="form-label">Remember me</label>
      </div>
      <div>
        <button id="login-submit" type="submit" class="w-100 btn btn-lg btn-primary">Sign in</button>
      </div>
      <div>
        <p><a href="account/forgot_Password">Forgot your password?</a></p>
        <p><a href="@(NavigationManager.GetUriWithQueryParameters("account/register", new Dictionary<string, object?> { ["ReturnUrl"] = ReturnUrl }))">Register as a new user</a></p>
        <p><a href="account/resend_email_confirmation">Resend email confirmation</a></p>
      </div>
    </EditForm>
  </section>
  </div>
  @if (State.HasExternalLoginProviders) {
  <div class="col-lg-4 col-lg-offset-2">
    <section>
      <h3>Use another client to log in.</h3>
      <hr />
      <ExternalLoginPickerComponent />
    </section>
  </div>
  }
</div>
