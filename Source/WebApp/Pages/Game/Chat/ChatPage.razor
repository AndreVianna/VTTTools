@page "/chat"
@inherits Page<ChatPage, ChatPageHandler>
@rendermode InteractiveServer

<PageTitle>Chat</PageTitle>

<div class="container">
  <div id="page-header" class="row mb-4">
    <div class="col">
      <h1>Chat</h1>
    </div>
  </div>
@if (!IsReady) {
  <div id="loading-message" class="d-flex justify-content-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
} else {
if (State.Messages.Count > 0)
{
  <ul>
  @foreach (var message in State.Messages) {
    <li>
      <span><span>@message.Timestamp</span>: <span>(@message.Direction)</span> <span>@message.Text</span></span>
    </li>
  }
  </ul>
}
  <input @bind="Input.Message" @bind:event="oninput" />
  <button @onclick="SendMessage">Send</button>
}
</div>
