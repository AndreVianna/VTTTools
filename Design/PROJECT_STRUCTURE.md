# Project Structure

- CLAUDE.md
- CODEX.md
- README.md
- TASK.md
- **.claude**
  - settings.json
- **Design**
  - INSTRUCTIONS.md
  - PROJECT_DEFINITION.md
  - PROJECT_STRUCTURE.md
  - ROADMAP.md
- **Source**
  - VttTools.sln
  - VttTools.slnx
  - **AppHost**
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - Program.cs
    - VttTools.AppHost.csproj
  - **Assets**
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - http-client.env.json
    - Program.cs
    - VttTools.Assets.csproj
    - **EndpointMappers**
      - AssetEndpointsMapper.cs
    - **Handlers**
      - AssetHandlers.cs
    - **Services**
      - AssetService.cs
      - Cloner.cs
  - **Assets.UnitTests**
    - GlobalUsings.cs
    - VttTools.Assets.UnitTests.csproj
    - xunit.runner.json
    - **EndpointMappers**
      - AssetEndpointsMapperTests.cs
    - **Extensions**
      - EndpointRouteBuilderExtensionsTests.cs
      - HostApplicationBuilderExtensionsTests.cs
    - **Services**
      - AssetServiceTests.cs
  - **Common**
    - GlobalUsings.cs
    - VttTools.Common.csproj
    - **EndpointMappers**
      - HealthEndpointsMapper.cs
    - **Extensions**
      - ApplicationBuilderExtensions.cs
      - ClaimsPrincipalExtensions.cs
      - HostApplicationBuilderExtensions.cs
    - **Middlewares**
      - LoggedExceptionHandler.cs
      - UserIdentificationHandler.cs
      - UserIdentificationOptions.cs
    - **Utilities**
      - ResourceFileHandler.cs
  - **Common.UnitTests**
    - GlobalUsings.cs
    - VttTools.Common.UnitTests.csproj
    - xunit.runner.json
    - **EndpointMappers**
      - HealthEndpointsMapperTests.cs
    - **Extensions**
      - ApplicationBuilderExtensionsTests.cs
      - EndpointsMapperHelperTests.cs
      - HostApplicationBuilderExtensionsTests.cs
    - **Middlewares**
      - LoggedExceptionHandlerTests.cs
      - UserIdentificationHandlerTests.cs
  - **Core**
    - GlobalUsings.cs
    - VttTools.Core.csproj
    - **Utilities**
      - ErrorCollectionExtensions.cs
      - Optional.cs
      - OptionalConverter.cs
      - OptionalConverterFactory.cs
  - **Core.UnitTests**
    - GlobalUsings.cs
    - VttTools.Core.UnitTests.csproj
    - xunit.runner.json
    - **Utilities**
      - ErrorCollectionExtensionsTests.cs
      - OptionalConverterFactoryTests.cs
      - OptionalConverterTests.cs
      - OptionalTests.cs
  - **Data**
    - ApplicationDbContext.cs
    - ApplicationDbContextFactory.cs
    - GlobalUsings.cs
    - VttTools.Data.csproj
    - **Assets**
      - AssetStorage.cs
      - **Entities**
        - Asset.cs
    - **Builders**
      - AdventureSchemaBuilder.cs
      - AssetSchemaBuilder.cs
      - CampaignSchemaBuilder.cs
      - EpicSchemaBuilder.cs
      - GameSessionSchemaBuilder.cs
      - IdentitySchemaBuilder.cs
      - SceneSchemaBuilder.cs
    - **Extensions**
      - HostApplicationBuilderExtensions.cs
    - **Game**
      - GameSessionStorage.cs
      - **Entities**
        - GameSession.cs
    - **Library**
      - AdventureStorage.cs
      - Mapper.cs
      - SceneStorage.cs
      - **Entities**
        - Adventure.cs
        - Campaign.cs
        - Epic.cs
        - Scene.cs
        - SceneAsset.cs
    - **Options**
      - ApplicationDbContextOptions.cs
  - **Data.UnitTests**
    - ApplicationDbContextTests.cs
    - GlobalUsings.cs
    - VttTools.Data.UnitTests.csproj
    - xunit.runner.json
    - **Builders**
    - **Extensions**
      - HostApplicationBuilderExtensionsTests.cs
    - **Game**
      - GameSessionStorageTests.cs
    - **Helpers**
      - DbContextHelper.cs
    - **Library**
      - AdventureStorageTests.cs
      - AssetStorageTests.cs
      - SceneStorageTests.cs
    - **Options**
      - ApplicationDbContextOptionsTests.cs
  - **Domain**
    - GlobalUsings.cs
    - VttTools.Domain.csproj
    - **Assets**
      - **ApiContracts**
        - CloneAssetRequest.cs
        - CreateAssetRequest.cs
        - UpdateAssetRequest.cs
      - **Model**
        - Asset.cs
        - AssetType.cs
      - **ServiceContracts**
        - CloneAssetData.cs
        - CreateAssetData.cs
        - UpdateAssetData.cs
      - **Services**
        - IAssetService.cs
      - **Storage**
        - IAssetStorage.cs
    - **Common**
      - **ApiContracts**
        - Request.cs
        - Response.cs
      - **Model**
        - DiceRoll.cs
        - Display.cs
        - ResourceType.cs
      - **ServiceContracts**
        - Data.cs
    - **Game**
      - **Sessions**
        - **ApiContracts**
          - CreateGameSessionRequest.cs
          - JoinGameSessionRequest.cs
          - UpdateGameSessionRequest.cs
        - **Model**
          - GameSession.cs
          - GameSessionEvent.cs
          - GameSessionMessage.cs
          - GameSessionStatus.cs
          - MessageType.cs
          - Player.cs
          - PlayerType.cs
        - **ServiceContracts**
          - CreateGameSessionData.cs
          - UpdateGameSessionData.cs
        - **Services**
          - IChatService.cs
          - IGameSessionService.cs
        - **Storage**
          - IGameSessionStorage.cs
    - **Helpers**
      - StringHelpers.cs
    - **Identity**
      - **Model**
        - BasicUserInfo.cs
        - Role.cs
        - RoleClaim.cs
        - RoleName.cs
        - User.cs
        - UserClaim.cs
        - UserLogin.cs
        - UserRole.cs
        - UserToken.cs
    - **Library**
      - **Adventures**
        - **ApiContracts**
          - CloneAdventureRequest.cs
          - CloneSceneRequest.cs
          - CreateAdventureRequest.cs
          - UpdateAdventureRequest.cs
        - **Model**
          - Adventure.cs
          - AdventureType.cs
        - **ServiceContracts**
          - ClonedAdventureData.cs
          - ClonedSceneData.cs
          - NewAdventureData.cs
          - UpdatedAdventureData.cs
        - **Services**
          - IAdventureService.cs
        - **Storage**
          - IAdventureStorage.cs
      - **Campaigns**
        - **Model**
          - Campaign.cs
      - **Epics**
        - **Model**
          - Epic.cs
      - **Scenes**
        - **ApiContracts**
          - AddAssetRequest.cs
          - AddClonedAssetRequest.cs
          - AddNewAssetRequest.cs
          - UpdateAssetRequest.cs
          - UpdateSceneRequest.cs
        - **Model**
          - Grid.cs
          - GridType.cs
          - Scene.cs
          - SceneAsset.cs
        - **ServiceContracts**
          - AddAssetData.cs
          - UpdateAssetData.cs
          - UpdateSceneData.cs
        - **Services**
          - ISceneService.cs
        - **Storage**
          - ISceneStorage.cs
    - **Media**
      - **Model**
        - ResourceFileInfo.cs
      - **Services**
        - IMediaService.cs
  - **Domain.UnitTests**
    - GlobalUsings.cs
    - VttTools.Domain.UnitTests.csproj
    - xunit.runner.json
    - **Assets**
      - **ApiContracts**
        - CreateAssetRequestTests.cs
        - UpdateAssetRequestTests.cs
      - **Model**
        - AssetTests.cs
        - AssetTypeTests.cs
    - **Common**
      - **ApiContracts**
        - RequestTests.cs
        - ResponseTests.cs
      - **Model**
        - GridTests.cs
        - GridTypeTests.cs
      - **ServiceContracts**
        - DataTests.cs
    - **Game**
      - **Sessions**
        - **ApiContracts**
          - CreateGameSessionRequestTests.cs
          - JoinGameSessionRequestTests.cs
          - UpdateGameSessionRequestTests.cs
        - **Model**
          - GameSessionEventTests.cs
          - GameSessionMessageTests.cs
          - GameSessionTests.cs
          - MessageTypeTests.cs
          - PlayerTests.cs
          - PlayerTypeTests.cs
        - **ServiceContracts**
          - CreateGameSessionDataTests.cs
          - UpdateGameSessionDataTests.cs
        - **Services**
        - **Storage**
    - **Helpers**
      - StringHelpersTests.cs
    - **Identity**
      - **Model**
        - RoleClaimTests.cs
        - RoleTests.cs
        - UserClaimTests.cs
        - UserLoginTests.cs
        - UserRoleTests.cs
        - UserTests.cs
        - UserTokenTests.cs
    - **Library**
      - **Adventures**
        - **ApiContracts**
          - CreateAdventureRequestTests.cs
          - UpdateAdventureRequestTests.cs
        - **Model**
          - AdventureTests.cs
          - AdventureTypeTests.cs
      - **Campaigns**
        - **Model**
          - CampaignTests.cs
      - **Epics**
        - **Model**
          - EpicTests.cs
      - **Scenes**
        - **ApiContracts**
          - AddAssetRequestTests.cs
          - AddClonedAssetRequestTests.cs
          - AddNewAssetRequestTests.cs
          - UpdateAssetRequestTests.cs
        - **Model**
          - SceneAssetTests.cs
          - SceneTests.cs
        - **ServiceContracts**
          - AddAssetDataTests.cs
          - UpdateAssetDataTests.cs
  - **Game**
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - http-client.env.json
    - Program.cs
    - VttTools.Game.csproj
    - **EndpointMappers**
      - GameSessionEndpointsMapper.cs
    - **Handlers**
      - GameSessionHandlers.cs
    - **Services**
      - GameSessionService.cs
  - **Game.UnitTests**
    - GlobalUsings.cs
    - VttTools.Game.UnitTests.csproj
    - xunit.runner.json
    - **EndpointMappers**
      - GameSessionEndpointsMapperTests.cs
    - **Extensions**
      - EndpointRouteBuilderExtensionsTests.cs
      - HostApplicationBuilderExtensionsTests.cs
    - **Handlers**
      - GameSessionHandlersTests.cs
    - **Services**
      - GameSessionServiceTests.cs
  - **Library**
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - http-client.env.json
    - Program.cs
    - VttTools.Library.csproj
    - **EndpointMappers**
      - AdventureEndpointsMapper.cs
      - SceneEndpointsMapper.cs
    - **Handlers**
      - AdventureHandlers.cs
      - SceneHandlers.cs
    - **Services**
      - AdventureService.cs
      - Cloner.cs
      - SceneService.cs
  - **Library.UnitTests**
    - GlobalUsings.cs
    - VttTools.Library.UnitTests.csproj
    - xunit.runner.json
    - **EndpointMappers**
      - AdventureEndpointsMapperTests.cs
      - SceneEndpointsMapperTests.cs
    - **Extensions**
      - EndpointRouteBuilderExtensionsTests.cs
      - HostApplicationBuilderExtensionsTests.cs
    - **Handlers**
      - AdventureHandlersTests.cs
      - SceneHandlersTests.cs
    - **Services**
      - AdventureServiceTests.cs
      - ClonerTests.cs
      - SceneServiceTests.cs
  - **Media**
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - http-client.env.json
    - Program.cs
    - VttTools.Media.csproj
    - **EndpointMappers**
      - ResourcesEndpointsMapper.cs
    - **Handlers**
      - ResourcesHandlers.cs
    - **Options**
      - AzureStorageOptions.cs
    - **Services**
      - AzureMediaService.cs
  - **Media.UnitTests**
    - GlobalUsings.cs
    - VttTools.Media.UnitTests.csproj
    - xunit.runner.json
    - **Extensions**
      - EndpointRouteBuilderExtensionsTests.cs
      - HostApplicationBuilderExtensionsTests.cs
    - **Options**
      - AzureStorageOptionsTests.cs
    - **Services**
      - AzureMediaServiceTests.cs
  - **WebApp**
    - _Imports.razor
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - libman.json
    - Program.cs
    - VttTools.WebApp.csproj
    - **Components**
      - App.razor
      - Routes.razor
    - **wwwroot**
  - **WebApp.Abstractions**
  - **WebApp.Common**
    - GlobalUsings.cs
    - VttTools.WebApp.Common.csproj
    - **Components**
      - AccountPage.cs
      - Component.cs
      - IAccountPage.cs
      - IComponent.cs
      - IPage.cs
      - Page.cs
      - PageHandler.cs
    - **Contracts**
      - **Assets**
        - AssetDetails.cs
        - IAssetsHttpClient.cs
        - SceneListItem.cs
      - **Game**
        - IGameHttpClient.cs
        - **Chat**
          - **Models**
            - ChatMessage.cs
            - ChatMessageDirection.cs
      - **Library**
        - ILibraryHttpClient.cs
        - **Adventure**
          - AdventureDetails.cs
          - AdventureListItem.cs
        - **Scenes**
          - GridDetails.cs
          - SceneAssetDetails.cs
          - SceneDetails.cs
          - SceneListItem.cs
          - StageDetails.cs
    - **Extensions**
      - HttpContextExtensions.cs
      - NavigationManagerExtensions.cs
      - UserManagerExtensions.cs
    - **Models**
      - LoggedUser.cs
    - **Utilities**
      - IdentityUserAccessor.cs
      - IIdentityUserAccessor.cs
  - **WebApp.Common.UnitTests**
    - GlobalUsings.cs
    - VttTools.WebApp.Common.UnitTests.csproj
    - xunit.runner.json
    - **Components**
      - PublicComponentTests.cs
    - **TestUtilities**
      - ComponentTestContext.cs
  - **WebApp.Server**
    - _Imports.razor
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - Program.cs
    - VttTools.WebApp.Server.csproj
    - **Clients**
      - ServerAssetsHttpClient.cs
      - ServerGameHttpClient.cs
      - ServerLibraryHttpClient.cs
    - **Components**
      - NavMenu.razor
      - NavMenu.razor.cs
      - StatusMessage.razor
      - StatusMessage.razor.cs
      - **Account**
        - ExternalLoginPicker.razor
        - ExternalLoginPicker.razor.cs
        - ManageNavMenu.razor
        - ManageNavMenu.razor.cs
        - RecoveryCodes.razor
        - RecoveryCodes.razor.cs
    - **Extensions**
      - AdditionalIdentityEndpointsMapper.cs
    - **Layouts**
      - MainLayout.razor
      - ManageLayout.razor
    - **Pages**
      - ErrorPage.razor
      - ErrorPage.razor.cs
      - ErrorPage.razor.handler.cs
      - ErrorPage.razor.state.cs
      - HomePage.razor
      - **Account**
        - _Imports.razor
        - AccessDeniedPage.razor
        - ConfirmEmailChange.razor
        - ConfirmEmailChange.razor.cs
        - ConfirmEmailPage.razor
        - ConfirmEmailPage.razor.cs
        - ConfirmEmailPage.razor.handler.cs
        - ExternalLoginPage.razor
        - ExternalLoginPage.razor.cs
        - ForgotPasswordConfirmation.razor
        - ForgotPasswordPage.razor
        - ForgotPasswordPage.razor.cs
        - ForgotPasswordPage.razor.handler.cs
        - ForgotPasswordPage.razor.input.cs
        - ForgotPasswordPage.razor.state.cs
        - InvalidPasswordResetPage.razor
        - InvalidUserPage.razor
        - LockoutPage.razor
        - LoginPage.razor
        - LoginPage.razor.cs
        - LoginPage.razor.handler.cs
        - LoginPage.razor.input.cs
        - LoginPage.razor.state.cs
        - LoginWith2faPage.razor
        - LoginWith2faPage.razor.cs
        - LoginWithRecoveryCodePage.razor
        - LoginWithRecoveryCodePage.razor.cs
        - RegisterConfirmationPage.razor
        - RegisterConfirmationPage.razor.cs
        - RegisterPage.razor
        - RegisterPage.razor.cs
        - RegisterPage.razor.handler.cs
        - RegisterPage.razor.input.cs
        - RegisterPage.razor.state.cs
        - ResendEmailConfirmationPage.razor
        - ResendEmailConfirmationPage.razor.cs
        - ResetPasswordConfirmationPage.razor
        - ResetPasswordPage.razor
        - ResetPasswordPage.razor.cs
        - **Manage**
          - _Imports.razor
          - ChangePasswordPage.razor
          - ChangePasswordPage.razor.cs
          - ChangePasswordPage.razor.handler.cs
          - ChangePasswordPage.razor.input.cs
          - ChangePasswordPage.razor.state.cs
          - DeletePersonalDataPage.razor
          - DeletePersonalDataPage.razor.cs
          - Disable2faPage.razor
          - Disable2faPage.razor.cs
          - EmailPage.razor
          - EmailPage.razor.cs
          - EmailPage.razor.handler.cs
          - EmailPage.razor.input.cs
          - EmailPage.razor.state.cs
          - EnableAuthenticatorPage.razor
          - EnableAuthenticatorPage.razor.cs
          - ExternalLoginsPage.razor
          - ExternalLoginsPage.razor.cs
          - GenerateRecoveryCodesPage.razor
          - GenerateRecoveryCodesPage.razor.cs
          - PersonalDataPage.razor
          - PersonalDataPage.razor.cs
          - ProfilePage.razor
          - ProfilePage.razor.cs
          - ProfilePage.razor.handler.cs
          - ProfilePage.razor.input.cs
          - ProfilePage.razor.state.cs
          - ResetAuthenticatorPage.razor
          - ResetAuthenticatorPage.razor.cs
          - SetPasswordPage.razor
          - SetPasswordPage.razor.cs
          - TwoFactorAuthenticationPage.razor
          - TwoFactorAuthenticationPage.razor.cs
      - **Assets**
        - _Imports.razor
        - AssetsPage.razor
        - AssetsPage.razor.cs
        - AssetsPage.razor.handler.cs
        - AssetsPage.razor.input.cs
        - AssetsPage.razor.state.cs
      - **Game**
        - _Imports.razor
        - **Chat**
          - GameSessionChatPage.razor
          - GameSessionChatPage.razor.cs
          - GameSessionChatPage.razor.handler.cs
          - GameSessionChatPage.razor.input.cs
          - GameSessionChatPage.razor.state.cs
        - **Schedule**
          - GameSessionPage.razor
          - GameSessionPage.razor.cs
          - GameSessionPage.razor.handler.cs
          - GameSessionPage.razor.input.cs
          - GameSessionPage.razor.state.cs
          - GameSessionsPage.razor
          - GameSessionsPage.razor.cs
          - GameSessionsPage.razor.handler.cs
          - GameSessionsPage.razor.input.cs
          - GameSessionsPage.razor.state.cs
      - **Library**
        - _Imports.razor
        - **Adventure**
          - **Details**
            - AdventureHandler.cs
            - AdventurePage.razor
            - AdventurePage.razor.cs
            - AdventurePageState.cs
          - **List**
            - AdventuresHandler.cs
            - AdventuresPage.razor
            - AdventuresPage.razor.cs
            - AdventuresPageState.cs
    - **Shared**
      - **Models**
        - DetailsPageMode.cs
        - ListViewMode.cs
    - **Utilities**
      - IdentityNoOpEmailSender.cs
      - IdentityRevalidatingAuthenticationStateProvider.cs
      - PersistingAuthenticationStateProvider.cs
      - ServerAuthenticationDelegatingHandler.cs
    - **wwwroot**
  - **WebApp.Server.UnitTests**
    - GlobalUsings.cs
    - VttTools.WebApp.Server.UnitTests.csproj
    - xunit.runner.json
    - **Clients**
      - MockHttpMessageHandler.cs
      - ServerAssetsHttpClientTests.cs
      - ServerGameHttpClientTests.cs
      - ServerLibraryHttpClientTests.cs
    - **Components**
      - NavMenuTests.cs
    - **Pages**
      - ErrorPageHandlerTests.cs
      - ErrorPageTests.cs
      - **Account**
        - ConfirmEmailPageHandlerTests.cs
        - ConfirmEmailPageTests.cs
        - ForgotPasswordPageHandlerTests.cs
        - ForgotPasswordPageTests.cs
        - LoginPageHandlerTests.cs
        - LoginPageTests.cs
        - RegisterPageHandlerTests.cs
        - RegisterPageTests.cs
        - **Manage**
          - ChangePasswordPageHandlerTests.cs
          - ChangePasswordPageTests.cs
          - EmailPageHandlerTests.cs
          - EmailPageTests.cs
          - ProfilePageHandlerTests.cs
          - ProfilePageTests.cs
      - **Assets**
        - AssetsPageHandlerTests.cs
        - AssetsPageTests.cs
      - **Game**
        - **Chat**
          - GameSessionChatPageHandlerTests.cs
          - GameSessionChatPageTests.cs
        - **Schedule**
          - GameSessionPageHandlerTests.cs
          - GameSessionPageTests.cs
          - GameSessionsPageHandlerTests.cs
          - GameSessionsPageTests.cs
      - **Library**
        - **Adventure**
          - **Details**
            - AdventureHandlerTests.cs
            - AdventurePageTests.cs
          - **List**
            - AdventuresPageHandlerTests.cs
            - AdventuresPageTests.cs
    - **TestUtilities**
      - ComponentTestContext.cs
  - **WebApp.WebAssembly**
    - _Imports.razor
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - Program.cs
    - VttTools.WebApp.WebAssembly.csproj
    - **Clients**
      - ClientAssetsHttpClient.cs
      - ClientLibraryHttpClient.cs
    - **Extensions**
      - ClaimsPrincipalExtensions.cs
      - PointExtensions.cs
    - **Pages**
      - **Library**
        - **Scenes**
          - BuilderInput.cs
          - BuilderState.cs
          - PersistedSceneData.cs
          - SceneBuilderPage.razor
          - SceneBuilderPage.razor.cs
          - SelectedAsset.cs
          - StageInput.cs
    - **Utilities**
      - GridCalculations.cs
      - PersistentAuthenticationStateProvider.cs
    - **wwwroot**
      - **scripts**
- **Utilities**
  - clear_artifacts.py
  - generate_coverage_report.py
  - list_project_structure.py
  - merge_code.py
  - **imports**
    - __init__.py
    - csharp_utils.py
    - json_utils.py
    - xml_utils.py
