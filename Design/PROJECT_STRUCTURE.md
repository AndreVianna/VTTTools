# Project Structure

- CLAUDE.md
- CODEX.md
- README.md
- TASK.md
- VTTTools.sln
- **.claude**
  - settings.json
- **Design**
  - INSTRUCTIONS.md
  - PROJECT_DEFINITION.md
  - PROJECT_STRUCTURE.md
  - ROADMAP.md
- **Source**
  - VttTools.sln
  - VttTools.slnx
  - **AppHost**
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - Program.cs
    - VttTools.AppHost.csproj
  - **Assets**
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - http-client.env.json
    - Program.cs
    - VttTools.Assets.csproj
    - **EndpointMappers**
      - AssetEndpointsMapper.cs
    - **Handlers**
      - AssetHandlers.cs
    - **Services**
      - AssetService.cs
      - Cloner.cs
      - MediaService.cs
  - **Assets.UnitTests**
    - GlobalUsings.cs
    - VttTools.Assets.UnitTests.csproj
    - xunit.runner.json
    - **EndpointMappers**
      - AssetEndpointsMapperTests.cs
    - **Extensions**
      - EndpointRouteBuilderExtensionsTests.cs
      - HostApplicationBuilderExtensionsTests.cs
    - **Services**
      - AssetServiceTests.cs
      - MediaServiceTests.cs
  - **Common**
    - GlobalUsings.cs
    - VttTools.Common.csproj
    - **EndpointMappers**
      - HealthEndpointsMapper.cs
    - **Extensions**
      - ApplicationBuilderExtensions.cs
      - ClaimsPrincipalExtensions.cs
      - HostApplicationBuilderExtensions.cs
    - **Middlewares**
      - LoggedExceptionHandler.cs
      - UserIdentificationHandler.cs
      - UserIdentificationOptions.cs
    - **Utilities**
      - ErrorCollectionExtensions.cs
      - OptionalConverter.cs
      - OptionalConverterFactory.cs
  - **Common.UnitTests**
    - GlobalUsings.cs
    - VttTools.Common.UnitTests.csproj
    - xunit.runner.json
    - **EndpointMappers**
      - HealthEndpointsMapperTests.cs
    - **Extensions**
      - ApplicationBuilderExtensionsTests.cs
      - EndpointsMapperHelperTests.cs
      - HostApplicationBuilderExtensionsTests.cs
    - **Middlewares**
      - LoggedExceptionHandlerTests.cs
      - UserIdentificationHandlerTests.cs
    - **Utilities**
      - ErrorCollectionExtensionsTests.cs
      - OptionalConverterFactoryTests.cs
      - OptionalConverterTests.cs
  - **Data**
    - ApplicationDbContext.cs
    - ApplicationDbContextFactory.cs
    - GlobalUsings.cs
    - VttTools.Data.csproj
    - **Assets**
      - AssetStorage.cs
    - **Builders**
      - AdventureSchemaBuilder.cs
      - AssetSchemaBuilder.cs
      - CampaignSchemaBuilder.cs
      - EpicSchemaBuilder.cs
      - GameSessionSchemaBuilder.cs
      - IdentitySchemaBuilder.cs
      - SceneSchemaBuilder.cs
    - **Extensions**
      - HostApplicationBuilderExtensions.cs
    - **Game**
      - GameSessionStorage.cs
    - **Library**
      - AdventureStorage.cs
      - SceneStorage.cs
    - **Options**
      - ApplicationDbContextOptions.cs
      - AzureStorageOptions.cs
  - **Data.UnitTests**
    - ApplicationDbContextTests.cs
    - GlobalUsings.cs
    - VttTools.Data.UnitTests.csproj
    - xunit.runner.json
    - **Builders**
    - **Extensions**
      - HostApplicationBuilderExtensionsTests.cs
    - **Game**
      - GameSessionStorageTests.cs
    - **Helpers**
      - DbContextHelper.cs
    - **Library**
      - AdventureStorageTests.cs
      - AssetStorageTests.cs
      - SceneStorageTests.cs
    - **Options**
      - ApplicationDbContextOptionsTests.cs
  - **Domain**
    - GlobalUsings.cs
    - VttTools.Domain.csproj
    - **Assets**
      - **ApiContracts**
        - CloneAssetRequest.cs
        - CreateAssetRequest.cs
        - UpdateAssetRequest.cs
      - **Model**
        - Asset.cs
        - AssetType.cs
        - Format.cs
        - FormatType.cs
      - **ServiceContracts**
        - CloneAssetData.cs
        - CreateAssetData.cs
        - UpdateAssetData.cs
      - **Services**
        - IAssetService.cs
        - IMediaService.cs
      - **Storage**
        - IAssetStorage.cs
    - **Common**
      - **ApiContracts**
        - Request.cs
        - Response.cs
      - **Model**
        - DiceRoll.cs
        - Position.cs
        - Size.cs
      - **ServiceContracts**
        - Data.cs
    - **Game**
      - **Sessions**
        - **ApiContracts**
          - CreateGameSessionRequest.cs
          - JoinGameSessionRequest.cs
          - UpdateGameSessionRequest.cs
        - **Model**
          - GameSession.cs
          - GameSessionEvent.cs
          - GameSessionMessage.cs
          - GameSessionStatus.cs
          - MessageType.cs
          - Player.cs
          - PlayerType.cs
        - **ServiceContracts**
          - CreateGameSessionData.cs
          - UpdateGameSessionData.cs
        - **Services**
          - IChatService.cs
          - IGameSessionService.cs
        - **Storage**
          - IGameSessionStorage.cs
    - **Helpers**
      - StringHelpers.cs
    - **Identity**
      - **Model**
        - Role.cs
        - RoleClaim.cs
        - RoleName.cs
        - User.cs
        - UserClaim.cs
        - UserLogin.cs
        - UserRole.cs
        - UserToken.cs
    - **Library**
      - **Adventures**
        - **ApiContracts**
          - AddClonedSceneRequest.cs
          - AddNewSceneRequest.cs
          - CloneAdventureRequest.cs
          - CreateAdventureRequest.cs
          - UpdateAdventureRequest.cs
        - **Model**
          - Adventure.cs
          - AdventureType.cs
        - **ServiceContracts**
          - AddClonedSceneData.cs
          - AddNewSceneData.cs
          - CloneAdventureData.cs
          - CreateAdventureData.cs
          - UpdateAdventureData.cs
        - **Services**
          - IAdventureService.cs
        - **Storage**
          - IAdventureStorage.cs
      - **Campaigns**
        - **Model**
          - Campaign.cs
      - **Epics**
        - **Model**
          - Epic.cs
      - **Scenes**
        - **ApiContracts**
          - AddClonedSceneAssetRequest.cs
          - AddNewSceneAssetRequest.cs
          - UpdateSceneAssetRequest.cs
          - UpdateSceneRequest.cs
        - **Model**
          - Grid.cs
          - GridType.cs
          - Scene.cs
          - SceneAsset.cs
          - Stage.cs
        - **ServiceContracts**
          - AddAssetData.cs
          - AddClonedAssetData.cs
          - AddNewAssetData.cs
          - UpdateSceneAssetData.cs
          - UpdateSceneData.cs
        - **Services**
          - ISceneService.cs
        - **Storage**
          - ISceneStorage.cs
    - **Utilities**
      - Optional.cs
  - **Domain.UnitTests**
    - GlobalUsings.cs
    - VttTools.Domain.UnitTests.csproj
    - xunit.runner.json
    - **Assets**
      - **ApiContracts**
        - CreateAssetRequestTests.cs
        - UpdateAssetRequestTests.cs
      - **Model**
        - AssetTests.cs
        - AssetTypeTests.cs
    - **Common**
      - **ApiContracts**
        - RequestTests.cs
        - ResponseTests.cs
      - **Model**
        - GridTests.cs
        - PositionTests.cs
        - SizeTests.cs
        - StageMapTypeTests.cs
        - StageTests.cs
      - **ServiceContracts**
        - DataTests.cs
    - **Game**
      - **Sessions**
        - **ApiContracts**
          - CreateGameSessionRequestTests.cs
          - JoinGameSessionRequestTests.cs
          - UpdateGameSessionRequestTests.cs
        - **Model**
          - GameSessionEventTests.cs
          - GameSessionMessageTests.cs
          - GameSessionTests.cs
          - MessageTypeTests.cs
          - PlayerTests.cs
          - PlayerTypeTests.cs
        - **ServiceContracts**
          - CreateGameSessionDataTests.cs
          - UpdateGameSessionDataTests.cs
        - **Services**
        - **Storage**
    - **Helpers**
      - StringHelpersTests.cs
    - **Identity**
      - **Model**
        - RoleClaimTests.cs
        - RoleTests.cs
        - UserClaimTests.cs
        - UserLoginTests.cs
        - UserRoleTests.cs
        - UserTests.cs
        - UserTokenTests.cs
    - **Library**
      - **Adventures**
        - **ApiContracts**
          - CreateAdventureRequestTests.cs
          - UpdateAdventureRequestTests.cs
        - **Model**
          - AdventureTests.cs
          - AdventureTypeTests.cs
      - **Campaigns**
        - **Model**
          - CampaignTests.cs
      - **Epics**
        - **Model**
          - EpicTests.cs
      - **Scenes**
        - **ApiContracts**
          - AddNewSceneAssetRequestTests.cs
          - UpdateSceneAssetRequestTests.cs
        - **Model**
          - SceneAssetTests.cs
          - SceneTests.cs
        - **ServiceContracts**
          - AddNewAssetDataTests.cs
          - UpdateSceneAssetDataTests.cs
    - **Utilities**
      - OptionalTests.cs
  - **Game**
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - http-client.env.json
    - Program.cs
    - VttTools.Game.csproj
    - **EndpointMappers**
      - GameSessionEndpointsMapper.cs
    - **Handlers**
      - GameSessionHandlers.cs
    - **Services**
      - GameSessionService.cs
  - **Game.UnitTests**
    - GlobalUsings.cs
    - VttTools.Game.UnitTests.csproj
    - xunit.runner.json
    - **EndpointMappers**
      - GameSessionEndpointsMapperTests.cs
    - **Extensions**
      - EndpointRouteBuilderExtensionsTests.cs
      - HostApplicationBuilderExtensionsTests.cs
    - **Handlers**
      - GameSessionHandlersTests.cs
    - **Services**
      - GameSessionServiceTests.cs
  - **Library**
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - http-client.env.json
    - Program.cs
    - VttTools.Library.csproj
    - **EndpointMappers**
      - AdventureEndpointsMapper.cs
      - SceneEndpointsMapper.cs
    - **Handlers**
      - AdventureHandlers.cs
      - SceneHandlers.cs
    - **Services**
      - AdventureService.cs
      - Cloner.cs
      - SceneService.cs
  - **Library.UnitTests**
    - GlobalUsings.cs
    - VttTools.Library.UnitTests.csproj
    - xunit.runner.json
    - **EndpointMappers**
      - AdventureEndpointsMapperTests.cs
      - SceneEndpointsMapperTests.cs
    - **Extensions**
      - EndpointRouteBuilderExtensionsTests.cs
      - HostApplicationBuilderExtensionsTests.cs
    - **Handlers**
      - AdventureHandlersTests.cs
      - SceneHandlersTests.cs
    - **Services**
      - AdventureServiceTests.cs
      - ClonerTests.cs
      - SceneServiceTests.cs
  - **WebApp**
    - _Imports.razor
    - appsettings.Development.json
    - appsettings.json
    - GlobalUsings.cs
    - libman.json
    - Program.cs
    - VttTools.WebApp.csproj
    - **Clients**
      - AssetsClient.cs
      - GameClient.cs
      - IAssetsClient.cs
      - IGameClient.cs
      - ILibraryClient.cs
      - LibraryClient.cs
    - **Components**
      - App.razor
      - NavMenu.razor
      - NavMenu.razor.cs
      - Routes.razor
      - **Account**
        - ExternalLoginPicker.razor
        - ExternalLoginPicker.razor.cs
        - ManageNavMenu.razor
        - ManageNavMenu.razor.cs
        - RecoveryCodes.razor
        - RecoveryCodes.razor.cs
        - StatusMessage.razor
        - StatusMessage.razor.cs
    - **Extensions**
      - AdditionalIdentityEndpointsMapper.cs
    - **Layouts**
      - MainLayout.razor
      - ManageLayout.razor
    - **Pages**
      - ErrorPage.razor
      - ErrorPage.razor.cs
      - ErrorPage.razor.handler.cs
      - ErrorPage.razor.state.cs
      - HomePage.razor
      - **Account**
        - _Imports.razor
        - AccessDeniedPage.razor
        - ConfirmEmailChange.razor
        - ConfirmEmailChange.razor.cs
        - ConfirmEmailPage.razor
        - ConfirmEmailPage.razor.cs
        - ConfirmEmailPage.razor.handler.cs
        - ExternalLoginPage.razor
        - ExternalLoginPage.razor.cs
        - ForgotPasswordConfirmation.razor
        - ForgotPasswordPage.razor
        - ForgotPasswordPage.razor.cs
        - ForgotPasswordPage.razor.handler.cs
        - ForgotPasswordPage.razor.input.cs
        - ForgotPasswordPage.razor.state.cs
        - InvalidPasswordResetPage.razor
        - InvalidUserPage.razor
        - LockoutPage.razor
        - LoginPage.razor
        - LoginPage.razor.cs
        - LoginPage.razor.handler.cs
        - LoginPage.razor.input.cs
        - LoginPage.razor.state.cs
        - LoginWith2faPage.razor
        - LoginWith2faPage.razor.cs
        - LoginWithRecoveryCodePage.razor
        - LoginWithRecoveryCodePage.razor.cs
        - RegisterConfirmationPage.razor
        - RegisterConfirmationPage.razor.cs
        - RegisterPage.razor
        - RegisterPage.razor.cs
        - RegisterPage.razor.handler.cs
        - RegisterPage.razor.input.cs
        - RegisterPage.razor.state.cs
        - ResendEmailConfirmationPage.razor
        - ResendEmailConfirmationPage.razor.cs
        - ResetPasswordConfirmationPage.razor
        - ResetPasswordPage.razor
        - ResetPasswordPage.razor.cs
        - **Manage**
          - _Imports.razor
          - ChangePasswordPage.razor
          - ChangePasswordPage.razor.cs
          - ChangePasswordPage.razor.handler.cs
          - ChangePasswordPage.razor.input.cs
          - ChangePasswordPage.razor.state.cs
          - DeletePersonalDataPage.razor
          - DeletePersonalDataPage.razor.cs
          - Disable2faPage.razor
          - Disable2faPage.razor.cs
          - EmailPage.razor
          - EmailPage.razor.cs
          - EmailPage.razor.handler.cs
          - EmailPage.razor.input.cs
          - EmailPage.razor.state.cs
          - EnableAuthenticatorPage.razor
          - EnableAuthenticatorPage.razor.cs
          - ExternalLoginsPage.razor
          - ExternalLoginsPage.razor.cs
          - GenerateRecoveryCodesPage.razor
          - GenerateRecoveryCodesPage.razor.cs
          - PersonalDataPage.razor
          - PersonalDataPage.razor.cs
          - ProfilePage.razor
          - ProfilePage.razor.cs
          - ProfilePage.razor.handler.cs
          - ProfilePage.razor.input.cs
          - ProfilePage.razor.state.cs
          - ResetAuthenticatorPage.razor
          - ResetAuthenticatorPage.razor.cs
          - SetPasswordPage.razor
          - SetPasswordPage.razor.cs
          - TwoFactorAuthenticationPage.razor
          - TwoFactorAuthenticationPage.razor.cs
      - **Assets**
        - _Imports.razor
        - AssetsPage.razor
        - AssetsPage.razor.cs
        - AssetsPage.razor.handler.cs
        - AssetsPage.razor.input.cs
        - AssetsPage.razor.state.cs
      - **Game**
        - _Imports.razor
        - **Chat**
          - GameSessionChatPage.razor
          - GameSessionChatPage.razor.cs
          - GameSessionChatPage.razor.handler.cs
          - GameSessionChatPage.razor.input.cs
          - GameSessionChatPage.razor.state.cs
          - **Models**
            - ChatMessage.cs
            - ChatMessageDirection.cs
        - **Schedule**
          - GameSessionPage.razor
          - GameSessionPage.razor.cs
          - GameSessionPage.razor.handler.cs
          - GameSessionPage.razor.input.cs
          - GameSessionPage.razor.state.cs
          - GameSessionsPage.razor
          - GameSessionsPage.razor.cs
          - GameSessionsPage.razor.handler.cs
          - GameSessionsPage.razor.input.cs
          - GameSessionsPage.razor.state.cs
      - **Library**
        - _Imports.razor
        - **Adventures**
          - AdventureHandler.cs
          - AdventurePage.razor
          - AdventurePage.razor.cs
          - AdventuresHandler.cs
          - AdventuresPage.razor
          - AdventuresPage.razor.cs
          - **Models**
            - AdventureInputModel.cs
            - AdventureListItem.cs
            - AdventurePageState.cs
            - AdventuresPageState.cs
            - DetailsPageMode.cs
            - ListViewMode.cs
            - SceneInputModel.cs
            - SceneListItem.cs
    - **Utilities**
      - IdentityNoOpEmailSender.cs
      - IdentityRevalidatingAuthenticationStateProvider.cs
    - **wwwroot**
  - **WebApp.Abstractions**
    - GlobalUsings.cs
    - VttTools.WebApp.Abstractions.csproj
    - **Components**
      - AccountPage.cs
      - Component.cs
      - IAccountPage.cs
      - IComponent.cs
      - IPage.cs
      - Page.cs
      - PageHandler.cs
    - **Extensions**
      - HttpContextExtensions.cs
      - NavigationManagerExtensions.cs
      - UserManagerExtensions.cs
    - **Models**
      - LoggedUser.cs
    - **Utilities**
      - IdentityUserAccessor.cs
      - IIdentityUserAccessor.cs
  - **WebApp.Abstractions.UnitTests**
    - GlobalUsings.cs
    - VttTools.WebApp.Abstractions.UnitTests.csproj
    - xunit.runner.json
    - **Components**
      - PublicComponentTests.cs
    - **TestUtilities**
      - ComponentTestContext.cs
  - **WebApp.Client**
    - _Imports.razor
    - Program.cs
    - RedirectToLogin.razor
    - VttTools.WebApp.Client.csproj
    - **Pages**
      - Counter.razor
      - Counter.razor.cs
    - **wwwroot**
      - appsettings.Development.json
      - appsettings.json
  - **WebApp.UnitTests**
    - GlobalUsings.cs
    - VttTools.WebApp.UnitTests.csproj
    - xunit.runner.json
    - **Clients**
      - AssetsClientTests.cs
      - GameClientTests.cs
      - LibraryClientTests.cs
      - MockHttpMessageHandler.cs
    - **Components**
      - NavMenuTests.cs
    - **Pages**
      - ErrorPageHandlerTests.cs
      - ErrorPageTests.cs
      - **Account**
        - ConfirmEmailPageHandlerTests.cs
        - ConfirmEmailPageTests.cs
        - ForgotPasswordPageHandlerTests.cs
        - ForgotPasswordPageTests.cs
        - LoginPageHandlerTests.cs
        - LoginPageTests.cs
        - RegisterPageHandlerTests.cs
        - RegisterPageTests.cs
        - **Manage**
          - ChangePasswordPageHandlerTests.cs
          - ChangePasswordPageTests.cs
          - EmailPageHandlerTests.cs
          - EmailPageTests.cs
          - ProfilePageHandlerTests.cs
          - ProfilePageTests.cs
      - **Assets**
        - AssetsPageHandlerTests.cs
        - AssetsPageTests.cs
      - **Game**
        - **Chat**
          - GameSessionChatPageHandlerTests.cs
          - GameSessionChatPageTests.cs
        - **Schedule**
          - GameSessionPageHandlerTests.cs
          - GameSessionPageTests.cs
          - GameSessionsPageHandlerTests.cs
          - GameSessionsPageTests.cs
      - **Library**
        - **Adventures**
          - AdventureHandlerTests.cs
          - AdventurePageTests.cs
          - AdventuresPageHandlerTests.cs
          - AdventuresPageTests.cs
    - **TestUtilities**
      - ComponentTestContext.cs
- **Utilities**
  - clear_artifacts.py
  - generate_coverage_report.py
  - list_project_structure.py
  - merge_code.py
  - **imports**
    - __init__.py
    - csharp_utils.py
    - json_utils.py
    - xml_utils.py
    - **__pycache__**
